## Vim 常用操作总结

### 一、模式切换（核心）
- **普通模式**
  - 进入方式：启动默认 / `Esc` 或 `Ctrl+[`
  - 退出方式：按其他模式键
  - 常用操作：导航、命令操作
- **插入模式**
  - 进入方式：`i`（光标前）、`a`（光标后）、`o`（下方新建行）、`I`（行首）、`A`（行尾）、`O`（上方新建行）
  - 退出方式：`Esc` 或 `Ctrl+[`
  - 常用操作：输入文本
- **可视模式**
  - 进入方式：`v`（字符）、`V`（行）、`Ctrl+v`（块）
  - 退出方式：`Esc` 或 `Ctrl+[`
  - 常用操作：选择文本
- **命令模式**
  - 进入方式：`:`
  - 退出方式：按回车执行命令或 `Esc` 取消
  - 常用操作：执行保存、退出等命令

### 二、光标移动（普通模式）
- **基本移动**
  - `h`、`j`、`k`、`l`：左、下、上、右移动
  - `W`、`B`：以空格分隔 下一单词开头、上一单词开头
  - `E`、`e`：以空格分隔 下一单词结尾、上一单词结尾
  - `w`、`b`：下一单词开头、上一单词开头
  - `0`、`^`、`$`：行首、行首非空字符、行尾
- **页面滚动**
  - `Ctrl+f`、`Ctrl+b`：下一页、上一页
  - `Ctrl+d`、`Ctrl+u`：下半页、上半页
  - `gg`、`G`：文件开头、文件末尾
  - `行号+G`：跳转到指定行
- **查找跳转**
  - `/{关键词}`、`n`、`N`：全局搜索、下一匹配、上一匹配
- **精确移动**
  - `数字 + j` 向下移动n行
  - `数字 + k` 向上移动n行

### 三、文本编辑
- **重复操作**
  - `.`：重复上一个命令行操作
  - `n`：执行多少次命令操作
- **删除**
  - `x`、`dd`、`dw`、`d$`：删除光标字符、整行、单词、到行尾
- **复制粘贴**
  - `yy`、`p`、`P`：复制当前行、粘贴到光标后、光标前
- **撤销重做**
  - `u`、`Ctrl+r`：撤销、重做
- **缩进**
  - `>>`、`<<`：行向右缩进、行向左缩进

### 四、搜索与替换
- **搜索**
  - `:/关键词`、`:?关键词`：正向搜索、反向搜索
- **替换**
  - `:s/旧/新`：替换当前行第一个匹配
  - `:s/旧/新/g`：替换当前行所有匹配
  - `:%s/旧/新/g`：全文替换
  - `:%s/旧/新/gc`：全文替换并确认

### 五、文件操作
- `:w`：保存
- `:q`：退出
- `:q!`：强制退出（不保存）
- `:wq` 或 `:x`：保存并退出
- `:e 文件名`：打开文件
- `:saveas 路径`：另存为

### 六、可视模式
- **多重插入**
  - 步骤：1. `Ctrl+v` 进入Visual Block；2. 选择多行；3. `Shift+I` 输入文本；4. `Esc` 退出
  - 功能：在多行同时插入相同内容

### 七、窗口操作
- **水平分割**
  - `:sp` 或 `:split` 水平分割当前窗口
  - `:sp 文件名` 水平分割并打开指定文件
  - `Ctrl+w s` 水平分割当前窗口（快捷键）

- **垂直分割**
  - `:vsp` 或 `:vsplit` 垂直分割当前窗口
  - `:vsp 文件名` 垂直分割并打开指定文件
  - `Ctrl+w v` 垂直分割当前窗口（快捷键）

- **新窗口**
  - `:new` 创建新的水平分割窗口（空白）
  - `:vnew` 创建新的垂直分割窗口（空白）

- **窗口切换与导航**
  - `Ctrl+w h` 切换到左侧窗口
  - `Ctrl+w j` 切换到下方窗口
  - `Ctrl+w k` 切换到上方窗口
  - `Ctrl+w l` 切换到右侧窗口
  - `Ctrl+w w` 循环切换到下一个窗口
  - `Ctrl+w Ctrl+w` 同上，循环切换
  - `Ctrl+w p` 切换到前一个活动窗口

- **关闭当前窗口**
  - `:q` 关闭当前窗口（如果有多个窗口）
  - `:close 或 Ctrl+w c` 关闭当前窗口
  - `Ctrl+w q` 关闭当前窗口

- **关闭其他窗口**
  - `:only` 或 `Ctrl+w o` 关闭除当前窗口外的所有窗口

- **标签页创建**
  - `:tabnew` 或 `:tabedit 文件名` 在新标签页中打开文件

- **标签页切换**
  - `gt` 切换到下一个标签页
  - `gT` 切换到上一个标签页
  - `数字gt` 切换到第N个标签页

- **跳转列表导航（主要用途）**
> Ctrl + o 在普通模式下用于在 跳转列表（jump list） 中向后导航到较旧的位置。
  - `Ctrl + o` 向后跳转到上一个位置（older）
  - `Ctrl + i` 或 `Tab` 向前跳转到下一个位置（newer）

- **折叠代码块**
  - `za` 在光标处切换折叠
  - `zR` 打开所有折叠
  - `zM` 关闭所有折叠

### 其他操作
- **查看编码**
  - `:set ff`、`:set ff=unix`：查看文件格式、设置为Unix格式
- **查看文件路径**
  - `:file`：查看文件路径
- **配置**
  - `:set nu`：设置行号